# Setting Up GitHub Pages for SigChain Demos

## Automated Deployment via GitHub Actions

The interactive dashboards are **automatically generated and deployed** via GitHub Actions. You don't need to commit the generated HTML/CSS/JS files.

## Quick Setup

1. **Enable GitHub Pages**
   - Navigate to https://github.com/briday1/sigchain/settings/pages

2. **Configure Source**
   - Under "Source", select: **GitHub Actions**
   - This is the new recommended method

3. **Workflow**
   - The workflow in `.github/workflows/deploy-dashboards.yml` will:
     - Install dependencies
     - Run `python examples/radar_plotly_dashboard.py`
     - Generate dashboards in `docs/`
     - Deploy to GitHub Pages

4. **Access Your Site**
   - Once deployed (takes ~2-3 minutes after push), the site will be at:
     - https://briday1.github.io/sigchain/

## What Gets Published

The CI/CD pipeline generates:

- **docs/index.html** - Landing page with links to demos (auto-generated by staticdash)
- **docs/radar-processing/** - Complete radar processing pipeline demo
- **docs/custom-blocks-tutorial/** - Custom block creation tutorial

All dashboards are generated fresh on each deployment.

## Local Development

To generate and view dashboards locally:

```bash
# Install dependencies
pip install -e ".[visualization]"

# Generate dashboards
python examples/radar_plotly_dashboard.py

# View locally
# Open docs/index.html in your browser
# Or use a local server:
python -m http.server -d docs 8000
# Then visit http://localhost:8000
```

The generated files in `docs/` are gitignored and won't be committed.

## Updating the Demos

To update dashboards with new data or changes:

1. Modify `examples/radar_plotly_dashboard.py` or visualization functions
2. Commit and push your changes
3. GitHub Actions automatically regenerates and deploys

No need to run the generator locally or commit generated files!

## Workflow Triggers

The deployment workflow runs on:
- Push to `main` branch
- Push to `copilot/discuss-custom-blocks-framework` branch
- Pull requests to `main`
- Manual trigger via Actions tab

## Repository Structure

```
.
├── .github/
│   └── workflows/
│       └── deploy-dashboards.yml    # CI/CD workflow
├── docs/
│   ├── *.md                         # Documentation (committed)
│   ├── index.html                   # Generated (gitignored)
│   ├── radar-processing/            # Generated (gitignored)
│   └── custom-blocks-tutorial/      # Generated (gitignored)
├── examples/
│   └── radar_plotly_dashboard.py    # Dashboard generator
└── sigchain/
    └── visualization.py             # Plotting utilities
```

## Benefits of CI/CD Approach

✅ **No large binary files in git** - Keeps repository clean and fast  
✅ **Always up-to-date** - Dashboards regenerate on every change  
✅ **Reproducible** - Same process in CI as locally  
✅ **Easy maintenance** - Update code, not generated files  
✅ **Faster clones** - Repository stays small

## Troubleshooting

**Issue**: Workflow fails with missing dependencies
- **Solution**: Check that `pyproject.toml` includes all required packages in `[project.optional-dependencies]`

**Issue**: Page shows 404
- **Solution**: Ensure GitHub Pages source is set to "GitHub Actions"

**Issue**: Plots don't show up
- **Solution**: Check workflow logs for errors during dashboard generation

**Issue**: Changes not reflected
- **Solution**: Wait 2-3 minutes for workflow to complete, then hard refresh (Ctrl+F5)

## Manual Deployment (Not Recommended)

If you need to deploy manually without CI/CD:

```bash
# Generate dashboards
python examples/radar_plotly_dashboard.py

# Temporarily remove from gitignore
# Edit .gitignore and comment out the dashboard exclusions

# Commit and push
git add docs/
git commit -m "Manual dashboard deployment"
git push

# Then configure Pages to use "Deploy from a branch" with /docs folder
```

This is not recommended as it defeats the purpose of automated deployment.
